<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Todoist Clone - Gesti√≥n de Tareas</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="user-info">
                    <div class="user-avatar">U</div>
                    <div>
                        <div style="font-weight: 600; font-size: 14px;">Usuario</div>
                        <div style="font-size: 12px; color: #888;">Free plan</div>
                    </div>
                </div>

                <div class="search-box">
                    <input type="text" class="search-input" placeholder="Buscar" id="searchInput">
                    <div class="search-icon">üîç</div>
                </div>

                <button class="add-task-btn" onclick="showQuickAdd()">
                    <span>‚ûï</span>
                    A√±adir tarea
                </button>
            </div>

            <nav class="sidebar-nav">
                <div class="nav-section">
                    <div class="nav-item active" data-view="today" onclick="switchView('today')">
                        <div class="nav-item-icon">üìÖ</div>
                        <div class="nav-item-text">Hoy</div>
                        <div class="nav-item-count" id="todayCount">0</div>
                    </div>
                    <div class="nav-item" data-view="upcoming" onclick="switchView('upcoming')">
                        <div class="nav-item-icon">üìÜ</div>
                        <div class="nav-item-text">Pr√≥ximamente</div>
                        <div class="nav-item-count" id="upcomingCount">0</div>
                    </div>
                    <div class="nav-item" data-view="inbox" onclick="switchView('inbox')">
                        <div class="nav-item-icon">üì•</div>
                        <div class="nav-item-text">Bandeja de entrada</div>
                        <div class="nav-item-count" id="inboxCount">0</div>
                    </div>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">Favoritos</div>
                    <div class="nav-item" data-view="important" onclick="switchView('important')">
                        <div class="nav-item-icon">‚≠ê</div>
                        <div class="nav-item-text">Importante</div>
                        <div class="nav-item-count" id="importantCount">0</div>
                    </div>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">Proyectos</div>
                    <div id="projectsList">
                        <!-- Los proyectos se cargar√°n din√°micamente -->
                    </div>
                    <div class="nav-item" onclick="showProjectModal()">
                        <div class="nav-item-icon">‚ûï</div>
                        <div class="nav-item-text">A√±adir proyecto</div>
                    </div>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">Etiquetas</div>
                    <div id="labelsList">
                        <!-- Las etiquetas se cargar√°n din√°micamente -->
                    </div>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">Filtros</div>
                    <div class="nav-item" data-view="assigned" onclick="switchView('assigned')">
                        <div class="nav-item-icon">üë§</div>
                        <div class="nav-item-text">Asignadas a m√≠</div>
                        <div class="nav-item-count" id="assignedCount">0</div>
                    </div>
                </div>
            </nav>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <header class="main-header">
                <div style="display: flex; align-items: center; gap: 16px;">
                    <button class="mobile-menu-btn" onclick="toggleSidebar()">‚ò∞</button>
                    <h1 class="main-title" id="mainTitle">Hoy</h1>
                </div>
                <div class="header-actions">
                    <button class="header-btn">
                        <span>üëÅÔ∏è</span>
                        Ver
                    </button>
                    <button class="header-btn" onclick="showTaskModal()">
                        <span>‚ûï</span>
                        A√±adir tarea
                    </button>
                </div>
            </header>

            <div class="tasks-container">
                <div class="task-input-container">
                    <div class="quick-add" onclick="showQuickAdd()" id="quickAdd">
                        <div class="quick-add-icon">‚ûï</div>
                        <input type="text" class="quick-add-input" placeholder="A√±adir tarea" id="quickAddInput">
                    </div>

                    <div class="task-form" id="taskForm">
                        <input type="text" class="task-input" placeholder="Nombre de la tarea" id="taskTitleInput">
                        <textarea class="task-input" placeholder="Descripci√≥n" id="taskDescriptionInput" rows="2"></textarea>
                        
                        <div class="task-options">
                            <button class="option-btn" onclick="toggleDatePicker()">
                                <span>üìÖ</span>
                                <span id="dueDateText">Fecha l√≠mite</span>
                            </button>
                            <button class="option-btn" onclick="toggleProjectPicker()">
                                <span>üìÅ</span>
                                <span id="projectText">Proyecto</span>
                            </button>
                            <button class="option-btn" onclick="togglePriorityPicker()">
                                <span>üèÉ</span>
                                <span id="priorityText">Prioridad</span>
                            </button>
                            <button class="option-btn" onclick="toggleLabelPicker()">
                                <span>üè∑Ô∏è</span>
                                <span>Etiquetas</span>
                            </button>
                        </div>

                        <div class="task-actions">
                            <button class="btn btn-secondary" onclick="hideTaskForm()">Cancelar</button>
                            <div class="btn-group">
                                <button class="btn btn-primary" onclick="addTask()" id="addTaskBtn">A√±adir tarea</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="tasks-list" id="tasksList">
                    <!-- Las tareas se cargar√°n din√°micamente -->
                </div>

                <div class="empty-state" id="emptyState" style="display: none;">
                    <div class="empty-icon">üìã</div>
                    <div class="empty-title">Sin tareas</div>
                    <div class="empty-description">¬°Has completado todas tus tareas!</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para tareas detalladas -->
    <div class="modal" id="taskModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Detalles de la tarea</h2>
                <button class="modal-close" onclick="hideTaskModal()">√ó</button>
            </div>
            <div class="form-group">
                <label class="form-label">T√≠tulo</label>
                <input type="text" class="form-input" id="modalTaskTitle" placeholder="Nombre de la tarea">
            </div>
            <div class="form-group">
                <label class="form-label">Descripci√≥n</label>
                <textarea class="form-input form-textarea" id="modalTaskDescription" placeholder="Descripci√≥n de la tarea"></textarea>
            </div>
            <div class="form-group">
                <label class="form-label">Proyecto</label>
                <select class="form-select" id="modalTaskProject">
                    <option value="">Sin proyecto</option>
                </select>
            </div>
            <div class="form-group">
                <label class="form-label">Fecha l√≠mite</label>
                <input type="date" class="form-input" id="modalTaskDate">
            </div>
            <div class="form-group">
                <label class="form-label">Prioridad</label>
                <select class="form-select" id="modalTaskPriority">
                    <option value="1">Prioridad 1 üî¥</option>
                    <option value="2">Prioridad 2 üü†</option>
                    <option value="3">Prioridad 3 üü°</option>
                    <option value="4" selected>Prioridad 4 ‚ö™</option>
                </select>
            </div>
            <div class="form-group">
                <label class="form-label">Etiquetas</label>
                <div class="labels-input-container">
                    <input type="text" class="form-input" id="modalTaskLabels" placeholder="A√±adir etiqueta y presionar Enter" onkeypress="handleLabelInput(event)">
                    <div class="selected-labels" id="selectedLabels" style="margin-top: 8px; display: flex; gap: 6px; flex-wrap: wrap;">
                        <!-- Las etiquetas seleccionadas aparecer√°n aqu√≠ -->
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="form-label">Subtareas</label>
                <div class="subtasks-editor">
                    <div class="subtasks-list" id="modalSubtasksList">
                        <!-- Las subtareas aparecer√°n aqu√≠ -->
                    </div>
                    <div class="add-subtask-container">
                        <input type="text" class="form-input" id="newSubtaskInput" placeholder="A√±adir subtarea y presionar Enter" onkeypress="handleSubtaskInput(event)">
                    </div>
                </div>
            </div>
            <div class="form-group">
                <button class="btn btn-primary" onclick="saveTask()" style="width: 100%;">Guardar</button>
            </div>
        </div>
    </div>

    <!-- Modal para proyectos -->
    <div class="modal" id="projectModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Nuevo proyecto</h2>
                <button class="modal-close" onclick="hideProjectModal()">√ó</button>
            </div>
            <div class="form-group">
                <label class="form-label">Nombre del proyecto</label>
                <input type="text" class="form-input" id="projectNameInput" placeholder="Mi proyecto">
            </div>
            <div class="form-group">
                <label class="form-label">Color</label>
                <select class="form-select" id="projectColorInput">
                    <option value="#db4035">üî¥ Rojo</option>
                    <option value="#ff9933">üü† Naranja</option>
                    <option value="#fad000">üü° Amarillo</option>
                    <option value="#299438">üü¢ Verde</option>
                    <option value="#6accbc">üîµ Azul claro</option>
                    <option value="#158fad">üî∑ Azul</option>
                    <option value="#14aaf5">üíô Azul cielo</option>
                    <option value="#96c3eb">ü©µ Azul pastel</option>
                    <option value="#884dff">üü£ Morado</option>
                    <option value="#af38eb">üü™ Rosa</option>
                </select>
            </div>
            <div class="form-group">
                <button class="btn btn-primary" onclick="addProject()" style="width: 100%;">Crear proyecto</button>
            </div>
        </div>
    </div>

    <script src="js/script.js"></script>
</body>
</html>